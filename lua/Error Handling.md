# 错误处理
* Lua可通过 error 函数立即中断程序显示抛出错误，可通过 warn 函数不中断程序仅生成警告信息

* 使用 pcall 或 xpcall可在保护模式下调用函数，当函数在运行发生错误时捕获错误

* 在Lua中使用xpcall 或 在C中使用lua_pcall，传递一个message handler参数，可在错误发生时，追溯到发生错误时的函数调用情况（显示一个完整的函数调用栈）

    * 当错误发生时，message handler会在调用栈展开前被调用来收集信息
    * message handler也是在保护模式下被调用，当该函数发生错误时会再次调用它，如果递归太深Lua会终止调用并返回合适的消息。